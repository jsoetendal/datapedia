<div class="row-col ng-scope">
    <div class="col-sm w w-auto-xs light lt bg-auto">
        <div class="pos-rlt">
            <div class="btn btn-sm btn-primary m-b m-t m-l-sm" ng-click="saveSettings()"><i class="fa fa-save"></i> Alles opslaan</div>
            <ul class="list-group light lt m-b">
                <li class="list-group-item" ng-repeat="entity in settings.content.entities" ng-click="selectEntity(entity)" style="cursor: pointer">
                    <span class="block _500">{{entity.single}}</span>
                    <small class="text-muted">{{count[entity.type]}} {{entity.plural.toLowerCase()}}</small>
                    <span class="text-danger" ng-click="deleteEntity(entity.type)" ng-if="!count[entity.type] || count[entity.type] == 0"><br/>verwijderen</span>
                </li>
            </ul>

            <div class="btn btn-sm btn-primary m-b m-l-sm" ng-click="addEntity();"><i class="fa fa-plus"></i> Entiteit toevoegen</div>
        </div>
    </div>
    <div class="col-sm">
        <div class="padding" style="">
            <div class="row m-t" ng-if="selected.entity">
                <div class="col-xs-12">
                    <div class="box">
                        <div class="box-header">
                            <h1>{{selected.entity.single}}</h1>
                        </div>
                        <div class="box-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="m-t">
                                        <div class="nav-active-primary b-b b-primary">
                                            <ul class="nav nav-tabs">
                                                <li class="nav-item active">
                                                    <a class="nav-link" data-toggle="tab" data-target="#tab1" aria-expanded="true">Weergave</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" data-toggle="tab" data-target="#tab2" aria-expanded="false">Data</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" data-toggle="tab" data-target="#tab3" aria-expanded="false">Relaties</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="tab-content m-b-md">
                                        <div class="tab-pane animated fadeIn text-muted active" id="tab1" aria-expanded="true">
                                            <div class="box">
                                                <div class="box-body">
                                                    <form role="form" class="ng-pristine ng-valid">
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Type</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.type">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Naam entiteit (enkelvoud)</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.single">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Naam entiteit (meervoud)</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.plural">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Introductie</label>
                                                            <div class="col-sm-10"><textarea class="form-control" rows="2" ng-model="selected.entity.introduction"></textarea></div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Afbeelding</label>
                                                            <div class="col-sm-10">
                                                                <label><input type="checkbox" ng-model="selected.entity.image">Afbeelding kunnen toevoegen aan item</label>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" ng-if="selected.entity.image">
                                                            <label class="col-sm-2 form-control-label">Max. afbeeldingsgrootte</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.maximagesize">
                                                                <strong>Geen maximale afbeeldingsgrootte</strong>
                                                                <br/><a ng-click="selected.entity.maximagesize = 1024"><span class="text-muted">maximale afbeeldingsgrootte instellen</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.maximagesize">
                                                                <input class="form-control" type="number" min="1" max="10000" ng-model="selected.entity.maximagesize">
                                                                <br/><a ng-click="selected.entity.maximagesize = null"><span class="text-muted">maximale afbeeldingsgrootte verwijderen</span></a>
                                                            </div>
                                                            <label class="col-sm-2 form-control-label">Plaats afbeelding</label>
                                                            <div class="col-sm-10">
                                                                <select class="form-control" ng-model="selected.entity.image">
                                                                    <option value="photo">Bovenaan</option>
                                                                    <option value="left">Aan linkerzijde</option>
                                                                    <option value="right">Aan rechterzijde</option>
                                                                    <option value="logo">Als logo (klein)</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Bijlage(n)</label>
                                                            <div class="col-sm-10">
                                                                <label><input type="checkbox" ng-model="selected.entity.attachments">Bijlage(n) kunnen toevoegen aan item</label>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" ng-show="selected.entity.attachments">
                                                            <label class="col-sm-2 form-control-label"></label>
                                                            <div class="col-sm-10">
                                                                <label><input type="checkbox" ng-model="selected.entity.attachmentsPrimary">Bijlagen zijn primair voor deze entiteit</label>
                                                                <br/><small class="text-muted">Een bijlage is primair voor een entiteit, als het bestand of bijlage het belangrijkste onderdeel van de entiteit is. Bijv. een entiteit 'Bestand' of 'Document'.<br/>In alle andere gevallen betreft het een normale 'bijlage' en hoeft deze optie niet aangevinkt te worden.</small>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" ng-show="selected.entity.attachments">
                                                            <label class="col-sm-2 form-control-label">Positie attachments</label>
                                                            <div class="col-sm-10">
                                                                <label>Attachments worden getoond: </label>
                                                                <select class="form-control" ng-model="selected.entity.attachmentPosition">
                                                                    <option value="left">Aan linkerzijde</option>
                                                                    <option value="right">Aan rechterzijde</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" ng-show="selected.entity.attachments">
                                                            <label class="col-sm-2 form-control-label">Label bij 'Bijlage(n)'</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.attachmentLabel" placeholder="Bijlage(n)">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Introductie bij wijzigen/toevoegen</label>
                                                            <div class="col-sm-10"><textarea class="form-control" rows="2" ng-model="selected.entity.editIntroduction"></textarea></div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Label bij 'Titel'</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.titleLabel">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Label bij 'Tekst/toelichting'</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.descriptionLabel" placeholder="Tekst/toelichting">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label"></label>
                                                            <div class="col-sm-10">
                                                                <label><input type="checkbox" ng-model="selected.entity.hideDescription">Tekst/toelichting verbergen</label>
                                                            </div>
                                                        </div>


                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Achtergrond (url)</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.background">
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <label class="col-sm-2">Parentobject<br/></label>
                                                            <div class="checkbox col-sm-10"><label><input type="checkbox" ng-model="selected.entity.isParentObject">De items van deze entitieit zijn parent objects</label></div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Path label</label>
                                                            <div class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.path.label">
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="checkbox col-sm-10 col-sm-offset-2"><label><input type="checkbox" ng-model="selected.entity.path.multilevel">Multi level</label></div>
                                                            <div class="checkbox col-sm-10 col-sm-offset-2"><label><input type="checkbox" ng-model="selected.entity.path.multiple">Meerdere paths bij een {{selected.entity.single.toLowerCase()}}</label></div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-1 form-control-label">Lijstweergave</label>
                                                            <label class="col-sm-1 form-control-label">primair:</label>
                                                            <div class="col-sm-10">
                                                                <select class="form-control" ng-model="selected.entity.views[0]">
                                                                    <option value="list">list - Lijst</option>
                                                                    <option value="tile">tile - Tegels</option>
                                                                    <option value="tree">tree - Kolommen</option>
                                                                    <option value="chapters">chapters - Hoofdstukken</option>
                                                                    <option value="geo">geo - Kaart</option>
                                                                    <option value="set">set - Set</option>
                                                                    <option value="custom">custom - Specifiek</option>
                                                                </select>
                                                            </div>
                                                            <label class="col-sm-1 col-sm-offset-1 form-control-label">optioneel:</label>
                                                            <div class="col-sm-10 p-t">
                                                                <div class='m-b-sm' ng-repeat="optie in ['list','tile','tree','chapters','geo','set'] track by $index">
                                                                    <add-toggle label="optie" arr="selected.entity.views"></add-toggle>
                                                                </div>
                                                            </div>
                                                            <label ng-if="selected.entity.views[0] == 'custom'" class="col-sm-1 col-sm-offset-1 form-control-label">Specifiek:<br/><small class="text-muted">URL template</small></label>
                                                            <div ng-if="selected.entity.views[0] == 'custom'" class="col-sm-10">
                                                                <input type="text" class="form-control" ng-model="selected.entity.custom">
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Sidebar-weergave</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.sidebar">
                                                                <strong>Standaard</strong>
                                                                <br/><a ng-click="addSidebar(selected.entity)"><span class="text-muted">Custom weergave activeren</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.sidebar">
                                                                <input type="text" class="form-control" ng-model="selected.entity.sidebar">
                                                                URL voor custom view
                                                                <br/><a ng-click="deleteSidebar(selected.entity)"><span class="text-muted">Custom weergave deactiveren</span></a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Custom itemweergave</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.itemview">
                                                                <strong>Standaard</strong>
                                                                <br/><a ng-click="addItemview(selected.entity)"><span class="text-muted">Custom weergave activeren</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.itemview">
                                                                <input type="text" class="form-control" ng-model="selected.entity.itemview">
                                                                URL voor custom view
                                                                <br/><a ng-click="deleteItemview(selected.entity)"><span class="text-muted">Custom weergave deactiveren</span></a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Dataweergave</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.dataview">
                                                                <strong>Standaard</strong>
                                                                <br/><a ng-click="addDataview(selected.entity)"><span class="text-muted">Custom weergave activeren</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.dataview">
                                                                <input type="text" class="form-control" ng-model="selected.entity.dataview">
                                                                URL voor custom view
                                                                <br/><a ng-click="deleteDataview(selected.entity)"><span class="text-muted">Custom weergave deactiveren</span></a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Custom Edit</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.itemedit">
                                                                <strong>Standaard</strong>
                                                                <br/><a ng-click="addItemedit(selected.entity)"><span class="text-muted">Custom edit activeren</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.itemedit">
                                                                <input type="text" class="form-control" ng-model="selected.entity.itemedit">
                                                                URL voor custom edit
                                                                <br/><a ng-click="deleteItemedit(selected.entity)"><span class="text-muted">Custom edit deactiveren</span></a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Template rechtsboven</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.toprightview">
                                                                <strong>Geen speciale weergave rechtsboven</strong>
                                                                <br/><a ng-click="addToprightview(selected.entity)"><span class="text-muted">Speciale weergave rechtsboven activeren</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.toprightview">
                                                                <input type="text" class="form-control" ng-model="selected.entity.toprightview">
                                                                URL voor view rechtsboven
                                                                <br/><a ng-click="deleteToprightview(selected.entity)"><span class="text-muted">Speciale weergave rechtsboven deactiveren</span></a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Toegang beperken</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.restricted">
                                                                <strong>Geen toegangsbeperking</strong>
                                                                <br/><a ng-click="selected.entity.restricted = []"><span class="text-muted">Toegangsbeperking activeren</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.restricted">
                                                                <div class='m-b-sm' ng-repeat="optie in ['unauthenticated','contributor','editor','admin'] track by $index">
                                                                    <add-toggle2 label="optie" arr="selected.entity.restricted"></add-toggle2>
                                                                </div>
                                                                <br/><a ng-click="selected.entity.restricted = null"><span class="text-muted">Toegangsbeperking deactiveren</span></a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Wiki beperken</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.restrictedwiki">
                                                                <strong>Geen Wiki-beperking</strong>
                                                                <br/><a ng-click="selected.entity.restrictedwiki = []"><span class="text-muted">Wiki-beperking activeren</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.restrictedwiki">
                                                                <div class='m-b-sm' ng-repeat="optie in ['unauthenticated','contributor','editor','admin'] track by $index">
                                                                    <add-toggle2 label="optie" arr="selected.entity.restrictedwiki"></add-toggle2>
                                                                </div>
                                                                <br/><a ng-click="selected.entity.restrictedwiki = null"><span class="text-muted">Wiki-beperking deactiveren</span></a>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 form-control-label">Toevoegen beperken</label>
                                                            <div class="col-sm-10" ng-if="!selected.entity.creation">
                                                                <strong>Iedereen kan nieuwe items toevoegen</strong>
                                                                <br/><a ng-click="selected.entity.creation = []"><span class="text-muted">Toevoegen beperken</span></a>
                                                            </div>
                                                            <div class="col-sm-10" ng-if="selected.entity.creation">
                                                                <div class='m-b-sm' ng-repeat="optie in ['unauthenticated','contributor','editor','admin'] track by $index">
                                                                    <add-toggle2 label="optie" arr="selected.entity.creation"></add-toggle2>
                                                                </div>
                                                                <br/><a ng-click="selected.entity.creation = null"><span class="text-muted">Onbeperkt toevoegen activeren</span></a>
                                                            </div>
                                                        </div>



                                                        <div class="row">
                                                            <label class="col-sm-2">Facet search<br/><small class="text-muted">Selectie in linkerkolom</small></label>
                                                            <div class="checkbox col-sm-10"><label><input type="checkbox" ng-model="selected.entity.facet.default">Standaard aan</label><br/><label><input type="checkbox" ng-model="selected.entity.facet.optional">Optioneel</label></div>
                                                        </div>
                                                        <div class="row">
                                                            <label class="col-sm-2">Vorige/volgende<br/></label>
                                                            <div class="checkbox col-sm-10"><label><input type="checkbox" ng-model="selected.entity.showNextPrev">Laat vorige en volgende zien</label></div>
                                                        </div>
                                                        <div class="row">
                                                            <label class="col-sm-2">Uitgebreid<br/></label>
                                                            <div class="checkbox col-sm-10"><label><input type="checkbox" ng-model="selected.entity.getNodesExtended">Uitgebreide nodes ophalen. (GetNodesExtended)</label></div>
                                                        </div>
                                                        <div class="row m-b">
                                                            <label class="col-sm-2">Custom views<br/><small class="text-muted"></small></label>
                                                            <div class="col-sm-10">
                                                                <table class="table table-striped" ng-show="selected.entity.customviews">
                                                                    <thead>
                                                                        <tr><td>Key</td><td>Titel</td><TD>view-URL</TD></tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-repeat="customview in selected.entity.customviews track by $index">
                                                                            <td>{{customview.key}}</td>
                                                                            <td>{{customview.title}}</td>
                                                                            <td>{{customview.url}}</td>
                                                                            <td><i class="fa fa-times text-danger pointer" ng-click="deleteCustomView($index)"></i></td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <div ng-init="newCustomView = {}" ng-show="selected.entity.customviews">
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 form-control-label">Key</label>
                                                                        <div class="col-sm-10">
                                                                            <input type="text" class="form-control" ng-model="newCustomView.key">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 form-control-label">Titel</label>
                                                                        <div class="col-sm-10">
                                                                            <input type="text" class="form-control" ng-model="newCustomView.title">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 form-control-label">URL</label>
                                                                        <div class="col-sm-10">
                                                                            <input type="text" class="form-control" ng-model="newCustomView.url">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 form-control-label"></label>
                                                                        <div class="col-sm-10">
                                                                            <div class="btn btn-primary" ng-click="addCustomView(newCustomView)">Toevoegen</div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <small class="text-muted" ng-click="selected.entity.customviews = []" ng-hide="selected.entity.customviews">Custom view(s) toevoegen</small>
                                                                <small class="text-muted" ng-click="selected.entity.customviews = null" ng-show="selected.entity.customviews">Custom view(s) verwijderen</small>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" ng-if="settings.modules.length > 1">
                                                            <label class="col-sm-2 form-control-label">Primaire module</label>
                                                            <div class="col-sm-10">
                                                                <select class="form-control" ng-model="selected.entity.module">
                                                                    <option ng-repeat="module in settings.modules" value="{{module.name}}">{{module.title}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="tab-pane animated fadeIn text-muted" id="tab2" aria-expanded="false">
                                            <div class="box">
                                                <form role="form" class="ng-pristine ng-valid">
                                                    <div class="box-body" ng-repeat-start="item in selected.entity.data track by $index">
                                                        <div class="row">
                                                            <div class="col-xs-12 p-t">
                                                                <div class="form-group row">
                                                                    <div class="col-sm-2 form-control-label"><strong>{{item.label}}</strong>
                                                                        <br/><a ng-click="showDelete = !showDelete" class="text-muted text-sm"><i class="fa fa-times text-danger"></i> verwijderen</a>
                                                                        <div ng-if="selected.entity.data.length > 1">
                                                                            <i ng-click="arrUp(selected.entity.data, item)" ng-hide="$index == selected.entity.data.length - 1" class="fa fa-caret-down pointer"></i>
                                                                            <i ng-click="arrDown(selected.entity.data, item)" ng-hide="$index == 0" class="fa fa-caret-up pointer"></i>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-10 p-b-2" ng-show="showDelete">
                                                                        <strong class="text-danger">Weet je zeker dat je het veld '{{item.label}}' wilt verwijderen?</strong>
                                                                        <ul>
                                                                            <li>Dit veld wordt niet meer getoond en kan niet meer worden ingevuld.</li>
                                                                            <li>Bij bestaande {{selected.entity.plural}} waar dit veld al is opgeslagen blijft deze opgeslagen, maar wordt deze nergens getoond.</li>
                                                                        </ul>
                                                                        <div class="btn btn-danger" ng-click="deleteData(selected.entity.data, $index)">Ja, verwijderen</div>
                                                                        <div class="btn btn-success" ng-click="showDelete = false">Nee, niet verwijderen</div>
                                                                    </div>
                                                                    <label class="col-sm-2 form-control-label">Label</label>
                                                                    <div class="col-sm-8">
                                                                        <input class="form-control" type="text" ng-model="item.label" ng-blur="makeKey(item)" >
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label class="col-sm-2 col-sm-offset-2 form-control-label">Toelichting bij invoer</label>
                                                                    <div class="col-sm-8">
                                                                        <input class="form-control"  type="text" ng-model="item.descriptionInput">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label class="col-sm-2 col-sm-offset-2 form-control-label">Key</label>
                                                                    <div class="col-sm-8">
                                                                        <input class="form-control"  type="text" ng-model="item.key">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row p-t">
                                                                    <label class="col-sm-2 col-sm-offset-2 form-control-label">Type</label>
                                                                    <div class="col-sm-8">
                                                                        <select class="form-control" ng-model="item.type">
                                                                            <option value="text">Tekst</option>
                                                                            <option value="textarea">Tekstveld (meerdere regels)</option>
                                                                            <option value="url">URL</option>
                                                                            <option value="enum">Meerkeuze</option>
                                                                            <option value="int">Integer</option>
                                                                            <option value="float">Float</option>
                                                                            <option value="datetime">Datumtijd</option>
                                                                            <option value="custom">Aangepast</option>
                                                                        </select>
                                                                        <div class="form-group row m-t" ng-show="item.type == 'enum'">
                                                                            <label class="col-sm-3 form-control-label">Keuzes</label>
                                                                            <div class="col-sm-9">
                                                                                <ul>
                                                                                    <li class="form-control-label" ng-repeat="option in item.options track by $index">{{option}} <a ng-click="deleteOption(item, $index)" class="text-sm text-muted"><i class="fa fa-times text-danger" title="verwijderen"></i></a></li>
                                                                                </ul>
                                                                                <div ng-hide="item.options.length > 0" class="m-b">Vul hieronder één of meerdere keuze-opties in:</div>
                                                                            </div>
                                                                            <label class="col-sm-3 form-control-label">Toevoegen</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control" type="text" ng-model="nieuwe_keuze_optie">
                                                                                <div class="btn btn-sm btn-danger m-t" ng-click="addOption(item, nieuwe_keuze_optie)">Toevoegen</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <div class="checkbox col-sm-8 col-sm-offset-4"><label><input type="checkbox" ng-model="item.required">Verplicht</label></div>
                                                                    <div class="checkbox col-sm-8 col-sm-offset-4"><label><input type="checkbox" ng-model="item.facet">Facet</label></div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label class="col-sm-2 col-sm-offset-2 form-control-label">Speciale weergave</label>
                                                                    <div class="col-sm-8"  ng-if="item.templates">
                                                                        <div class="form-group row">
                                                                            <label class="col-sm-3 form-control-label">Invoer</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control"  type="text" ng-model="item.templates.input">
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group row">
                                                                            <label class="col-sm-3 form-control-label">Weergave</label>
                                                                            <div class="col-sm-9">
                                                                                <input class="form-control"  type="text" ng-model="item.templates.view">
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group row">
                                                                            <a class="form-control-label" ng-click="deleteTemplates(item)">Speciale weergave deactiveren</a>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-8 form-control-label"  ng-if="!item.templates">
                                                                        <a ng-click="addTemplates(item)">Speciale weergave activeren</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="box-divider" ng-repeat-end=""></div>
                                                    <div class="box-body">
                                                        <div class="btn btn-primary" ng-click="addData(selected.entity.data)">Data-item toevoegen</div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="tab-pane animated fadeIn text-muted" id="tab3">
                                            <div class="box">
                                                <form role="form" class="ng-pristine ng-valid">
                                                    <div class="box-body m-b p-b b-b" ng-repeat="relation in selected.entity.relations">
                                                        <div class="row">
                                                            <div class="row">
                                                                <div class="col-xs-12 p-t">
                                                                    <div class="form-group row">
                                                                        <div class="col-sm-2 form-control-label"><strong>{{relation.label}}</strong>
                                                                            <br/><a ng-click="showDelete = !showDelete" class="text-muted text-sm"><i class="fa fa-times text-danger"></i> verwijderen</a>
                                                                        </div>
                                                                        <div class="col-sm-10 p-b-2" ng-show="showDelete">
                                                                            <strong class="text-danger">Weet je zeker dat je deze relatie wilt verwijderen?</strong>
                                                                            <ul>
                                                                                <li>Deze relatie wordt niet meer getoond</li>
                                                                                <li>Reeds bestaande relates blijven opgeslagen, maar worden nergens meer getoond.</li>
                                                                            </ul>
                                                                            <div class="btn btn-danger" ng-click="deleteRelatie($index)">Ja, verwijderen</div>
                                                                            <div class="btn btn-success" ng-click="showDelete = false">Nee, niet verwijderen</div>
                                                                        </div>
                                                                        <label class="col-sm-2 form-control-label">Key</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control" type="text" ng-model="relation.key">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Koppeling naar:</label>
                                                                        <div class="col-sm-8 form-control-label">
                                                                            {{relation.type}} <!-- TODO: Hier selectlist van maken?? -->
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Label</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.label">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Beschrijving</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.description">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Toelichting bij invoer</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.descriptionInput">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Minimumaantal</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control" type="number" min="0" max="100" ng-model="relation.min">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Maximumaantal</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control" type="number" min="0" max="100" ng-model="relation.max">
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="checkbox col-sm-8 col-sm-offset-4"><label><input type="checkbox" ng-model="relation.editShort">Verkorte weergave bij wijzigen item</label></div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Positie in weergave</label>
                                                                        <div class="col-sm-8">
                                                                            <select class="form-control" ng-model="relation.position">
                                                                                <option value="left">Links</option>
                                                                                <option value="right">In de rechterkolom</option>
                                                                                <option value="bottom">Onderaan over de volle breedte</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="checkbox col-sm-8 col-sm-offset-4"><label><input type="checkbox" ng-model="relation.facet">Opnemen als waarde in facet-selectie</label></div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <label class=" col-sm-offset-2 col-sm-2">Zoekresultaten bij toevoegen<br/></label>
                                                                        <div class="checkbox col-sm-8"><label><input type="checkbox" ng-model="relation.extendedPreview">Uitgebreide weergave zoekresultaten bij toevoegen</label></div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <label class=" col-sm-offset-2 col-sm-2">Suggesties voor relaties<br/></label>
                                                                        <div class="checkbox col-sm-8"><label><input type="checkbox" ng-model="relation.suggestRelations">Maak suggesties voor relaties</label></div>
                                                                    </div>

                                                                    <!--
                                                                    <div class="form-group row" ng-if="selected.entity.views[0]=='set'">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Kolommen</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control" type="number" min="1" max="12" ng-model="relation.cols">
                                                                            <small class="text-muted">Leeg laten voor volledige breedte. (12 = volledige breedte)</small>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row" ng-if="selected.entity.views[0]=='set'">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">View</label>
                                                                        <div class="col-sm-8">
                                                                            <select class="form-control" ng-model="relation.view">
                                                                                <option value="simple">simple - Normaal</option>
                                                                                <option value="row">row - Als rijen</option>
                                                                                <option value="custom">custom - Specifieke view/html:</option>
                                                                            </select>
                                                                            <input class="form-control"  type="text" ng-model="relation.custom" ng-show="relation.view=='custom'">
                                                                        </div>
                                                                    </div>
                                                                    -->
                                                                    <div class="form-group row" ng-if="true || selected.entity.views[0] !='set'">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Custom view</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.view">
                                                                            <small class="text-muted">URL voor template, optioneel</small>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-10 col-sm-offset-2 form-control-label primary"><strong>Data bij relatie</strong></label>
                                                                        <div class=" col-sm-offset-2 col-sm-10"  ng-if="relation.data">
                                                                            <form role="form" class="ng-pristine ng-valid">
                                                                                <div class="box-body m-b p-b b-b" ng-repeat="item in relation.data">
                                                                                    <div class="row">
                                                                                        <div class="col-xs-12 p-t">
                                                                                            <div class="form-group row">
                                                                                                <div class="col-sm-2 form-control-label"><strong>{{item.label}}</strong>
                                                                                                    <br/><a ng-click="showDelete = !showDelete" class="text-muted text-sm"><i class="fa fa-times text-danger"></i> verwijderen</a>
                                                                                                </div>
                                                                                                <div class="col-sm-10 p-b-2" ng-show="showDelete">
                                                                                                    <strong class="text-danger">Weet je zeker dat je het veld '{{item.label}}' wilt verwijderen?</strong>
                                                                                                    <ul>
                                                                                                        <li>Dit veld wordt niet meer getoond en kan niet meer worden ingevuld.</li>
                                                                                                        <li>Bij bestaande relaties waar dit veld al is opgeslagen blijft deze opgeslagen, maar wordt deze nergens getoond.</li>
                                                                                                    </ul>
                                                                                                    <div class="btn btn-danger" ng-click="deleteData(relation.data, $index)">Ja, verwijderen</div>
                                                                                                    <div class="btn btn-success" ng-click="showDelete = false">Nee, niet verwijderen</div>
                                                                                                </div>
                                                                                                <label class="col-sm-2 form-control-label">Label</label>
                                                                                                <div class="col-sm-8">
                                                                                                    <input class="form-control" type="text" ng-model="item.label" ng-blur="makeKey(item)" >
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-group row">
                                                                                                <label class="col-sm-2 col-sm-offset-2 form-control-label">Toelichting bij invoer</label>
                                                                                                <div class="col-sm-8">
                                                                                                    <input class="form-control"  type="text" ng-model="item.descriptionInput">
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-group row">
                                                                                                <label class="col-sm-2 col-sm-offset-2 form-control-label">Key</label>
                                                                                                <div class="col-sm-8">
                                                                                                    <input class="form-control"  type="text" ng-model="item.key">
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-group row p-t">
                                                                                                <label class="col-sm-2 col-sm-offset-2 form-control-label">Type</label>
                                                                                                <div class="col-sm-8">
                                                                                                    <select class="form-control" ng-model="item.type">
                                                                                                        <option value="text">Tekst</option>
                                                                                                        <option value="textarea">Tekstveld (meerdere regels)</option>
                                                                                                        <option value="url">URL</option>
                                                                                                        <option value="enum">Meerkeuze</option>
                                                                                                        <option value="custom">Aangepast</option>
                                                                                                    </select>
                                                                                                    <div class="form-group row m-t" ng-show="item.type == 'enum'">
                                                                                                        <label class="col-sm-3 form-control-label">Keuzes</label>
                                                                                                        <div class="col-sm-9">
                                                                                                            <ul>
                                                                                                                <li class="form-control-label" ng-repeat="option in item.options track by $index">{{option}} <a ng-click="deleteOption(item, $index)" class="text-sm text-muted"><i class="fa fa-times text-danger" title="verwijderen"></i></a></li>
                                                                                                            </ul>
                                                                                                            <div ng-hide="item.options.length > 0" class="m-b">Vul hieronder één of meerdere keuze-opties in:</div>
                                                                                                        </div>
                                                                                                        <label class="col-sm-3 form-control-label">Toevoegen</label>
                                                                                                        <div class="col-sm-9">
                                                                                                            <input class="form-control" type="text" ng-model="nieuwe_keuze_optie">
                                                                                                            <div class="btn btn-sm btn-danger m-t" ng-click="addOption(item, nieuwe_keuze_optie)">Toevoegen</div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                        <div class="form-group row m-t-md">
                                                                            <div class="col-sm-offset-2 col-sm-10">
                                                                                <a ng-click="addData(relation.data, relation)"><i class="fa fa-plus"></i> Data-element bij relatie toevoegen</a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="box-body">
                                                        <h5>Relatie toevoegen</h5>
                                                        <div class="form-group row">
                                                            <label class="col-sm-3 form-control-label">Relatie met:</label>
                                                            <div class="col-sm-9">
                                                                <select ng-model='newrelationtype'>
                                                                    <option ng-repeat="entity in settings.content.entities" ng-value="entity.type">{{entity.plural}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <div class="col-sm-9 col-sm-offset-3">
                                                                <div class="btn btn-primary" ng-click="addRelatie(newrelationtype)">Toevoegen</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <h3>Afhankelijkheden</h3>
                                            <div class="box" ng-show="selected.potentialDependencies.length > 0 || selected.entity.dependencies.length > 0">
                                                <div class="box-header">
                                                    <smal class="text-muted">Afhankelijkheden zijn relaties die van een ander type die naar dit type worden gelegd, maar die ook expliciet bij dit type getoond en bewerkt moeten kunnen worden. Een afhankelijkheid kan dus alleen van een bestaande relatie gemaakt worden.</smal>
                                                </div>
                                                <form role="form" class="ng-pristine ng-valid">
                                                    <div class="box-body" ng-repeat-start="relation in selected.entity.dependencies">
                                                        <div class="row">
                                                            <div class="row">
                                                                <div class="col-xs-12 p-t">
                                                                    <div class="form-group row">
                                                                        <div class="col-sm-2 form-control-label"><strong>{{relation.label}}</strong>
                                                                            <br/><a ng-click="showDelete = !showDelete" class="text-muted text-sm"><i class="fa fa-times text-danger"></i> verwijderen</a>
                                                                        </div>
                                                                        <div class="col-sm-10 p-b-2" ng-show="showDelete">
                                                                            <strong class="text-danger">Weet je zeker dat je deze afhankelijkheid wilt verwijderen?</strong>
                                                                            <ul>
                                                                                <li>Deze relatie wordt niet meer getoond</li>
                                                                                <li>Reeds bestaande relaties blijven opgeslagen, maar worden nergens meer getoond.</li>
                                                                            </ul>
                                                                            <div class="btn btn-danger" ng-click="deleteDependency($index)">Ja, verwijderen</div>
                                                                            <div class="btn btn-success" ng-click="showDelete = false">Nee, niet verwijderen</div>
                                                                        </div>
                                                                        <label class="col-sm-2 form-control-label">Key</label>
                                                                        <div class="col-sm-8">
                                                                            {{relation.key}}
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Koppeling naar:</label>
                                                                        <div class="col-sm-8 form-control-label">
                                                                            {{relation.type}} <!-- TODO: Hier selectlist van maken?? -->
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Label</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.label">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Beschrijving</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.description">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Toelichting bij invoer</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.descriptionInput">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Minimumaantal</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control" type="number" min="0" max="100" ng-model="relation.min">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Maximumaantal</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control" type="number" min="0" max="100" ng-model="relation.max">
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="checkbox col-sm-8 col-sm-offset-4"><label><input type="checkbox" ng-model="relation.editShort">Verkorte weergave bij wijzigen item</label></div>
                                                                    </div>
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Positie in weergave</label>
                                                                        <div class="col-sm-8">
                                                                            <select class="form-control" ng-model="relation.position">
                                                                                <option value="left">Links</option>
                                                                                <option value="right">In de rechterkolom</option>
                                                                                <option value="bottom">Onderaan over de volle breedte</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="checkbox col-sm-8 col-sm-offset-4"><label><input type="checkbox" ng-model="relation.facet">Opnemen als waarde in facet-selectie</label></div>
                                                                    </div>
                                                                    <div class="form-group row" ng-if="selected.entity.views[0]=='set'">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Kolommen</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control" type="number" min="1" max="12" ng-model="relation.cols">
                                                                            <small class="text-muted">Leeg laten voor volledige breedte. (12 = volledige breedte)</small>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row" ng-if="selected.entity.views[0]=='set'">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">View</label>
                                                                        <div class="col-sm-8">
                                                                            <select class="form-control" ng-model="relation.view">
                                                                                <option value="simple">simple - Normaal</option>
                                                                                <option value="row">row - Als rijen</option>
                                                                                <option value="custom">custom - Specifieke view/html:</option>
                                                                            </select>
                                                                            <input class="form-control"  type="text" ng-model="relation.custom" ng-show="relation.view=='custom'">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group row" ng-if="selected.entity.views[0] !='set'">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Custom view</label>
                                                                        <div class="col-sm-8">
                                                                            <input class="form-control"  type="text" ng-model="relation.view">
                                                                            <small class="text-muted">URL voor template, optioneel</small>
                                                                        </div>
                                                                    </div>
                                                                    <!-- TODO: Data  ook nog volledig interfacen
                                                                    <div class="form-group row">
                                                                        <label class="col-sm-2 col-sm-offset-2 form-control-label">Data</label>
                                                                        <div class="col-sm-8">
                                                                            <textarea class="form-control" rows="6" ng-model="relation.data"></textarea>
                                                                            <small class="text-muted">JSON voor data, optioneel</small>
                                                                        </div>
                                                                    </div>
                                                                    -->
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div ng-repeat-end="" class="box-divider"></div>
                                                    <div class="box-body">
                                                        <h5>Afhankelijkheid toevoegen</h5>
                                                        <div class="form-group row" ng-show="selected.potentialDependencies.length > 0">
                                                            De volgende afhankelijkheden kunnen worden toegevoegd:
                                                            <table class="table">
                                                                <thead>
                                                                <tr>
                                                                    <th>Label</th>
                                                                    <th>Type</th>
                                                                    <th>Key</th>
                                                                    <th></th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr ng-repeat="pd in selected.potentialDependencies">
                                                                    <td>{{pd.label}}</td>
                                                                    <td>{{pd.type}}</td>
                                                                    <td>{{pd.key}}</td>
                                                                    <td><a ng-click="addDependency(pd)"><i class="fa fa-plus"></i> toevoegen</a></td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <div class="form-group row" ng-hide="selected.potentialDependencies.length > 0">
                                                            <smal class="text-muted">Er zijn geen relaties die als afhankelijkheid toegevoegd kunnen worden.</smal>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="box" ng-hide="selected.potentialDependencies.length > 0">
                                                <div class="box-header">
                                                    <smal class="text-muted">Er zijn geen relaties die als afhankelijkheid toegevoegd kunnen worden.</smal>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row m-t" ng-hide="selected.entity">
                Selecteer een entiteit in de linkerkolom.
            </div>

        </div>
    </div>
</div>


    <div class="row ng-scope">
        <div class="col-sm-3 col-lg-2 light lt">
        </div>

    </div>
